[
  {
    "objectID": "Index.html",
    "href": "Index.html",
    "title": "2023 - Quarto Examples",
    "section": "",
    "text": "hello world"
  },
  {
    "objectID": "SQL.html",
    "href": "SQL.html",
    "title": "SQL",
    "section": "",
    "text": "if(!require(\"tidyverse\"))\n  install.packages(\"tidyverse\")\n\nLoading required package: tidyverse\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.2\n✔ purrr     1.2.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n  library(tidyverse)\n\nif(!require(\"RSQLite\"))\n  install.packages(\"RSQLite\")\n\nLoading required package: RSQLite\n\n  library(RSQLite)\n\nif(!require(\"DBI\"))\n  install.packages(\"DBI\")\n\nLoading required package: DBI\n\n  library(DBI)\n\n# interactive plots\nif(!require(\"plotly\"))\n  install.packages(\"plotly\")\n\nLoading required package: plotly\n\nAttaching package: 'plotly'\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\nlibrary(plotly)\n\nif(!require(\"ggthemes\"))\n  install.packages(\"ggthemes\")\n\nLoading required package: ggthemes\n\nlibrary(ggthemes)\n\nif(!require(\"DT\"))\n  install.packages(\"DT\")\n\nLoading required package: DT\n\nlibrary(DT)\n\nif(!require(\"kableExtra\"))\n  install.packages(\"kableExtra\")\n\nLoading required package: kableExtra\n\nAttaching package: 'kableExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    group_rows\n\n  library(kableExtra)\n\nif(!require(\"ggplot2\"))\n  install.packages(\"ggplot2\")\n  library(ggplot2)\n\nconn &lt;- dbConnect(RSQLite::SQLite(), \"virtual_production.db\")\ndbListTables(conn)\n\n [1] \"Assets\"           \"Clients\"          \"CrewMembers\"      \"Environments\"    \n [5] \"Equipment\"        \"ProductionCrew\"   \"Productions\"      \"SessionEquipment\"\n [9] \"ShootingSessions\" \"VCamTakes\""
  },
  {
    "objectID": "technologyexploration.html",
    "href": "technologyexploration.html",
    "title": "Technology Exploration",
    "section": "",
    "text": "Technology Exploration"
  },
  {
    "objectID": "SQL.html#core-query-1-budget-by-country",
    "href": "SQL.html#core-query-1-budget-by-country",
    "title": "SQL",
    "section": "Core Query 1: Budget by Country",
    "text": "Core Query 1: Budget by Country\n\nquery_core1 &lt;- \"SELECT c.Country, SUM(p.Budget) AS TotalBudget, COUNT(*) AS ProjectCount FROM Productions p JOIN Clients c ON p.ClientID = c.ClientID GROUP BY c.Country ORDER BY TotalBudget DESC;\"\n\nresult_core1 &lt;- dbGetQuery(conn, query_core1)\n\nDT::datatable(\n  result_core1,\n  options = list(pageLength = 10),\n  caption = \"Core Query 1: Total budget and project count per country\"\n)\n\n\n\n\nquery_dev_time_assets &lt;- \"\nWITH AssetCounts AS (\n  SELECT\n    e.ProductionID,\n    COUNT(a.AssetID) AS AssetCount\n  FROM Environments e\n  LEFT JOIN Assets a ON a.EnvironmentID = e.EnvironmentID\n  GROUP BY e.ProductionID\n),\nProductionDevTime AS (\n  SELECT\n    p.ProductionID,\n    (julianday(p.EndDate) - julianday(p.StartDate)) AS DevDays,\n    COALESCE(ac.AssetCount, 0) AS AssetCount\n  FROM Productions p\n  LEFT JOIN AssetCounts ac ON ac.ProductionID = p.ProductionID\n)\nSELECT\n  CASE\n    WHEN AssetCount &lt;= 10 THEN '0–10'\n    WHEN AssetCount &lt;= 50 THEN '11–50'\n    WHEN AssetCount &lt;= 100 THEN '51–100'\n    ELSE '100+'\n  END AS AssetBucket,\n  AVG(DevDays) AS AvgDevelopmentDays,\n  COUNT(*) AS ProductionCount\nFROM ProductionDevTime\nGROUP BY AssetBucket\nORDER BY\n  CASE AssetBucket\n    WHEN '0–10' THEN 1\n    WHEN '11–50' THEN 2\n    WHEN '51–100' THEN 3\n    ELSE 4\n  END;\n\"\n\nresult_dev_time_assets &lt;- dbGetQuery(conn, query_dev_time_assets)\n\nDT::datatable(result_dev_time_assets, options = list(pageLength = 10))"
  },
  {
    "objectID": "SQL.html#core-query-3-top-crew-members",
    "href": "SQL.html#core-query-3-top-crew-members",
    "title": "SQL",
    "section": "Core Query 3: Top Crew Members",
    "text": "Core Query 3: Top Crew Members\n\nquery_core3 &lt;- \"\nSELECT \n  cm.Name,\n  COUNT(*) AS SuccessfulProductions\nFROM CrewMembers cm\nJOIN ProductionCrew pc ON cm.CrewID = pc.CrewID\nJOIN Productions p ON pc.ProductionID = p.ProductionID\nWHERE p.EndDate IS NOT NULL\nGROUP BY cm.CrewID, cm.Name\nORDER BY SuccessfulProductions DESC\nLIMIT 3;\n\"\n\nresult_core3 &lt;- dbGetQuery(conn, query_core3)\n\nDT::datatable(\n  result_core3,\n  options = list(pageLength = 10),\n  caption = \"Core Query 3: Top 3 crew members by successful productions\"\n)"
  },
  {
    "objectID": "SQL.html#core-query-3-top-crew-members-1",
    "href": "SQL.html#core-query-3-top-crew-members-1",
    "title": "SQL",
    "section": "Core Query 3: Top Crew Members",
    "text": "Core Query 3: Top Crew Members\nLists the top three crew members by number of successful (completed) productions."
  },
  {
    "objectID": "SQL.html#sql-concept-1-like-and-or",
    "href": "SQL.html#sql-concept-1-like-and-or",
    "title": "SQL",
    "section": "SQL Concept 1: LIKE and OR",
    "text": "SQL Concept 1: LIKE and OR\n\nquery_like_or &lt;- \"\nSELECT Title, Genre, Budget\nFROM Productions\nWHERE Title LIKE '%Run%' OR Title LIKE '%Drift%'\nORDER BY Title;\n\"\n\nresult_like_or &lt;- dbGetQuery(conn, query_like_or)\n\nDT::datatable(result_like_or, options = list(pageLength = 10))"
  },
  {
    "objectID": "SQL.html#select-with-distinct-and-order-by",
    "href": "SQL.html#select-with-distinct-and-order-by",
    "title": "SQL",
    "section": "2. SELECT with DISTINCT and ORDER BY",
    "text": "2. SELECT with DISTINCT and ORDER BY\n\nquery_distinct &lt;- \"\nSELECT DISTINCT Country\nFROM Clients\nORDER BY Country;\n\"\n\nresult_distinct &lt;- dbGetQuery(conn, query_distinct)\n\nDT::datatable(result_distinct, options = list(pageLength = 10))"
  },
  {
    "objectID": "SQL.html#subquery-with-select",
    "href": "SQL.html#subquery-with-select",
    "title": "SQL",
    "section": "3. Subquery with SELECT",
    "text": "3. Subquery with SELECT\n\nquery_subquery &lt;- \"\nSELECT Title, Budget\nFROM Productions\nWHERE Budget &gt; (SELECT AVG(Budget) FROM Productions)\nORDER BY Budget DESC;\n\"\n\nresult_subquery &lt;- dbGetQuery(conn, query_subquery)\n\nDT::datatable(result_subquery, options = list(pageLength = 10))"
  },
  {
    "objectID": "SQL.html#sql-libraries-and-connections",
    "href": "SQL.html#sql-libraries-and-connections",
    "title": "SQL",
    "section": "",
    "text": "if(!require(\"tidyverse\"))\n  install.packages(\"tidyverse\")\n\nLoading required package: tidyverse\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.6\n✔ forcats   1.0.1     ✔ stringr   1.6.0\n✔ ggplot2   4.0.1     ✔ tibble    3.3.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.2\n✔ purrr     1.2.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n  library(tidyverse)\n\nif(!require(\"RSQLite\"))\n  install.packages(\"RSQLite\")\n\nLoading required package: RSQLite\n\n  library(RSQLite)\n\nif(!require(\"DBI\"))\n  install.packages(\"DBI\")\n\nLoading required package: DBI\n\n  library(DBI)\n\n# interactive plots\nif(!require(\"plotly\"))\n  install.packages(\"plotly\")\n\nLoading required package: plotly\n\nAttaching package: 'plotly'\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following object is masked from 'package:graphics':\n\n    layout\n\nlibrary(plotly)\n\nif(!require(\"ggthemes\"))\n  install.packages(\"ggthemes\")\n\nLoading required package: ggthemes\n\nlibrary(ggthemes)\n\nif(!require(\"DT\"))\n  install.packages(\"DT\")\n\nLoading required package: DT\n\nlibrary(DT)\n\nif(!require(\"kableExtra\"))\n  install.packages(\"kableExtra\")\n\nLoading required package: kableExtra\n\nAttaching package: 'kableExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    group_rows\n\n  library(kableExtra)\n\nif(!require(\"ggplot2\"))\n  install.packages(\"ggplot2\")\n  library(ggplot2)\n\nconn &lt;- dbConnect(RSQLite::SQLite(), \"virtual_production.db\")\ndbListTables(conn)\n\n [1] \"Assets\"           \"Clients\"          \"CrewMembers\"      \"Environments\"    \n [5] \"Equipment\"        \"ProductionCrew\"   \"Productions\"      \"SessionEquipment\"\n [9] \"ShootingSessions\" \"VCamTakes\""
  },
  {
    "objectID": "linearregression.html",
    "href": "linearregression.html",
    "title": "Linear Regression",
    "section": "",
    "text": "Linear Regression\n# add libraries\nlibrary(DBI)\nlibrary(RSQLite)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\n\n# connect to the virtual production db\ncon &lt;- dbConnect(SQLite(), \"virtual_production.db\")\nproductions     &lt;- dbReadTable(con, \"Productions\")\nsessions        &lt;- dbReadTable(con, \"ShootingSessions\")\nproduction_crew &lt;- dbReadTable(con, \"ProductionCrew\")\n\nworkload_per_prod &lt;- sessions |&gt;\n  group_by(ProductionID) |&gt;\n  summarise(\n    ActualWorkload = sum(DurationHours, na.rm = TRUE)\n  )\n\nproductions_dates &lt;- productions |&gt;\n  mutate(\n    StartDate        = as.Date(StartDate),\n    EndDate          = as.Date(EndDate),\n    ExpectedDuration = as.numeric(EndDate - StartDate)\n  )\n\ncrewsize_per_prod &lt;- production_crew |&gt;\n  group_by(ProductionID) |&gt;\n  summarise(\n    CrewSize = n_distinct(CrewID)\n  )\n\nprod_data &lt;- productions_dates |&gt;\n  left_join(workload_per_prod, by = \"ProductionID\") |&gt;\n  left_join(crewsize_per_prod,   by = \"ProductionID\")"
  },
  {
    "objectID": "linearregression.html#successrate-and-clean",
    "href": "linearregression.html#successrate-and-clean",
    "title": "Linear Regression",
    "section": "successRate and clean",
    "text": "successRate and clean\n\nreg_data &lt;- prod_data |&gt;\n  mutate(\n    SuccessRate = ExpectedDuration / ActualWorkload\n  ) |&gt;\n  select(ProductionID, Budget, CrewSize,\n         ExpectedDuration, ActualWorkload, SuccessRate) |&gt;\n  filter(\n    !is.na(Budget),\n    !is.na(CrewSize),\n    !is.na(SuccessRate),\n    ActualWorkload &gt; 0,\n    ExpectedDuration &gt; 0\n  )\n\nhead(reg_data)\n\n  ProductionID Budget CrewSize ExpectedDuration ActualWorkload SuccessRate\n1            1 350000        2              629            165    3.812121\n2            2 500000        5              839            151    5.556291\n3            3 420000        6              902            166    5.433735\n4            4 280000        3              557            285    1.954386\n5            5 600000        5              669            284    2.355634\n6            6 450000        2              790            203    3.891626"
  },
  {
    "objectID": "linearregression.html#fit-linear-regression",
    "href": "linearregression.html#fit-linear-regression",
    "title": "Linear Regression",
    "section": "fit linear regression",
    "text": "fit linear regression\n\nlm_model &lt;- lm(SuccessRate ~ Budget + CrewSize, data = reg_data)\nsummary(lm_model)\n\n\nCall:\nlm(formula = SuccessRate ~ Budget + CrewSize, data = reg_data)\n\nResiduals:\n      1       2       3       4       5       6 \n 0.6097  1.3311  0.7659 -1.6829 -1.7913  0.7675 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)  2.716e+00  3.140e+00   0.865    0.451\nBudget      -7.826e-07  8.171e-06  -0.096    0.930\nCrewSize     3.801e-01  5.331e-01   0.713    0.527\n\nResidual standard error: 1.766 on 3 degrees of freedom\nMultiple R-squared:  0.1678,    Adjusted R-squared:  -0.3869 \nF-statistic: 0.3025 on 2 and 3 DF,  p-value: 0.7591"
  },
  {
    "objectID": "linearregression.html#plot-relationships-with-regression-lines",
    "href": "linearregression.html#plot-relationships-with-regression-lines",
    "title": "Linear Regression",
    "section": "plot relationships with regression lines",
    "text": "plot relationships with regression lines\n\nggplot(reg_data, aes(x = Budget, y = SuccessRate)) +\n  geom_point(alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = TRUE, colour = \"blue\") +\n  labs(\n    title = \"Success rate vs budget\",\n    x = \"Budget\",\n    y = \"Success rate (ExpectedDuration / ActualWorkload)\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nggplot(reg_data, aes(x = CrewSize, y = SuccessRate)) +\n  geom_point(alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = TRUE, colour = \"darkgreen\") +\n  labs(\n    title = \"Success rate vs crew size\",\n    x = \"Crew size\",\n    y = \"Success rate (ExpectedDuration / ActualWorkload)\"\n  )\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\n##diagnostics\n\nplot(lm_model, which = 1)\n\n\n\n\n\n\n\nplot(lm_model, which = 2)"
  }
]