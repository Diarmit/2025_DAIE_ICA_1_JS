---
title: "SQL"
author: "JS"
---
SQL
```{r}
if(!require("tidyverse"))
  install.packages("tidyverse")
  library(tidyverse)

if(!require("RSQLite"))
  install.packages("RSQLite")
  library(RSQLite)

if(!require("DBI"))
  install.packages("DBI")
  library(DBI)

# interactive plots
if(!require("plotly"))
  install.packages("plotly")
library(plotly)

# support for color blind users - see scale_color_colorblind() below
if(!require("ggthemes"))
  install.packages("ggthemes")
library(ggthemes)

# allows paginated tables
if(!require("DT"))
  install.packages("DT")
library(DT)

if(!require("kableExtra"))
  install.packages("kableExtra")
  library(kableExtra)

if(!require("ggplot2"))
  install.packages("ggplot2")
  library(ggplot2)

conn <- dbConnect(RSQLite::SQLite(), "virtual_production.db")
dbListTables(conn)

```

```{r}
query <- "SELECT Budget FROM Productions"
result <- dbGetQuery(conn, query)

```

```{r}
query_step1 <- "
SELECT 
  p.Title,
  p.Budget,
  c.Country
FROM Productions p
JOIN Clients c ON p.ClientID = c.ClientID
LIMIT 10
"

result_step1 <- dbGetQuery(conn, query_step1)
result_step1
```

